# DigitalCane (디지털 지팡이)

**DigitalCane**은 시각장애인의 독립적인 이동을 보조하기 위해 개발된 iOS 내비게이션 애플리케이션입니다. 사용자 주변의 편의 시설을 탐색하는 '디지털 지팡이' 모드와, 대중교통 및 도보를 포함한 '최적 경로 안내' 기능을 제공합니다.

---

## 🚀 주요 기능

### 1. 디지털 지팡이 (주변 탐색)
시각장애인이 흰지팡이를 좌우로 흔들며 보행하는 것에서 착안한 기능입니다.
- **레이더 스캔**: 스마트폰을 전방으로 들어 좌우로 천천히 움직이면, **전방 10도 반경 내**의 시설물을 감지합니다.
- **햅틱 및 음성 피드백**: 목표물을 조준했을 때 **강한 진동(Heavy Haptic)**과 함께 장소 이름을 음성으로 안내합니다.
- **반경 설정**: 설정 탭 또는 메인 화면에서 탐색 반경(20m ~ 500m)을 자유롭게 조절할 수 있습니다.
- **자동 시작**: GPS 신호가 잡히면 별도의 조작 없이 주변 탐색이 자동으로 시작됩니다.

### 2. 스마트 경로 안내 (내비게이션)
단순한 길 안내를 넘어, 시각장애인에게 특화된 상세하고 친절한 안내를 제공합니다.
- **음성 명령**: 화면을 길게 누르고 "서울역으로 가줘", "강남역에서 코엑스 가는 법"과 같이 자연스럽게 말하면 AI가 의도를 파악합니다.
- **지능형 경로 탐색**: 
  - 버스, 지하철뿐만 아니라 **장거리 기차(KTX 등)**까지 포함한 복합 경로를 지원합니다.
  - 별도 설정이 없으면 **최단 시간 경로**를 우선 안내합니다.
  - 사용자가 원할 경우 **'걷기 최소화(안전 우선)'** 모드로 설정할 수 있습니다.
- **대화형 브리핑**: "총 3번 탑승하며, 15개 정류장을 지납니다"와 같은 전체 여정 요약 후, 끊김 없이 첫 단계 안내를 이어갑니다.
- **상세 환승 가이드**: "강남역에서 2호선을 타고 역삼역에 내리세요. 교대 방면입니다."와 같이 노선 번호, 방면, 하차역을 명확히 전달합니다.

### 3. 사용자 맞춤 설정
- **안전 우선 모드**: 걷는 거리를 최소화하는 경로를 선호하도록 설정할 수 있습니다.
- **탐색 반경 조절**: 사용자의 보행 환경에 맞춰 주변 정보 탐색 범위를 조절합니다.

---

## 🎨 앱 아이콘

**DigitalCane**의 앱 아이콘은 시각장애인을 위한 보조 공학의 본질을 담고 있습니다:
- 🦯 **흰지팡이 모티프**: 전통적인 이동 보조 도구를 디지털로 확장
- 📡 **레이더 효과**: 주변 탐색 기능을 시각화
- 💛 **노란색 배경**: 고대비 접근성과 희망을 상징
- ⚡ **미니멀 디자인**: 명확하고 즉각적으로 인식 가능한 형태

---

## 🛠 기술 스택

- **Platform**: iOS 16.0+
- **Language**: Swift, SwiftUI
- **Location & Sensors**:
  - `CoreLocation`: 실시간 위치 및 헤딩(방위각) 추적
  - `CoreHaptics` / `UIImpactFeedbackGenerator`: 촉각 피드백 제공
- **AI & Data**:
  - **OpenAI GPT-4o**: 사용자의 자연어 발화에서 목적지 및 출발지 의도(Intent)를 정밀하게 추출 (Hallucination 방지 프롬프트 적용)
  - **MapKit (Apple Maps)**: 한국에서 카카오맵 데이터 기반 주변 POI 검색 (무료, 빠름, 오프라인 캐싱)
  - **Google Maps Platform (Routes API v2)**: 대중교통 경로 안내 (향후 MapKit Directions로 전환 예정)
- **Accessibility**: 
  - `VoiceOver` 최적화
  - `AVSpeechSynthesizer`: 자연스러운 한국어 음성 출력 (TTS)
- **Developer Tools**:
  - **Context7 MCP**: 실시간 버전별 문서 제공으로 최신 iOS/Swift API 정보 활용

---

## 📦 설치 및 실행 방법

1. **Repository 복제**
   ```bash
   git clone https://github.com/Start-Up-Together-2024/DigitalCane-iOS.git
   cd DigitalCane-iOS
   ```

2. **API 키 설정**
   - `Secrets.plist` 파일을 프로젝트 루트에 생성합니다.
   - 아래 키를 추가합니다:
     - `GOOGLE_MAPS_API_KEY`: Google Cloud Console에서 발급
     - `OPENAI_API_KEY`: OpenAI API Key

3. **빌드 및 실행**
   - Xcode에서 `DigitalCane.xcodeproj`를 엽니다.
   - 실제 기기(iPhone)를 연결하고 빌드합니다 (나침반 및 진동 기능 테스트 필요).

4. **(선택) Context7 MCP 설정** (개발자용)
   - AI 코드 어시스턴트와 함께 작업하는 경우, 최신 iOS/Swift API 문서를 실시간으로 제공받을 수 있습니다.
   - `.gemini/mcp.json` 파일이 이미 설정되어 있습니다.
   - Node.js 18.0+ 필요:
     ```bash
     node --version  # v18.0.0 이상 확인
     ```
   - MCP 호환 AI 클라이언트 (Cursor, Claude Desktop, VS Code 등)에서 자동으로 활성화됩니다.

---

## 🤝 기여 (Contribute)

이 프로젝트는 오픈 소스이며, 시각장애인의 이동권 향상을 위한 모든 기여를 환영합니다.
- **Issue**: 버그 리포트나 기능 제안을 남겨주세요.
- **Pull Request**: 코드를 개선하고 PR을 보내주세요.

---

## 📄 라이선스

MIT License
